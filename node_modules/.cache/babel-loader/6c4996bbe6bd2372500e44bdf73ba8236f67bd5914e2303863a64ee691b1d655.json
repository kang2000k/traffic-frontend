{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from\"react-router-dom\";import axios from'axios';import'../Styles/Login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[role,setRole]=useState('System Admin');const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[message,setMessage]=useState('');const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();try{// Send the POST request to the Flask API\nconst response=await axios.post('http://localhost:5000/Login',{username:username,password:password,role:role},{withCredentials:true});setMessage(response.data.message);console.log('API response message:',response.data.message);if(response.status===200){navigate('/dashboard');}}catch(error){alert('Login failed. Invalid credentials.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/Modern_British_LED_Traffic_Light.jpg\",alt:\"Traffic light\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"role\",value:role,onChange:e=>setRole(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"System Admin\",children:\"System Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"User\",children:\"User\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-in-btn\",children:\"Sign In \\u2192\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"extra-links\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/forgot-password\",children:\"Forgot password?\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Is this your first time here? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register Now!\"})]})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Login","role","setRole","username","setUsername","password","setPassword","message","setMessage","navigate","handleLogin","e","preventDefault","response","post","withCredentials","data","console","log","status","error","alert","className","children","src","alt","onSubmit","htmlFor","id","value","onChange","target","type","required","href"],"sources":["/Users/lee/PycharmProjects/TrafficForecasting/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport '../Styles/Login.css';\n\nconst Login = () => {\n  const [role, setRole] = useState('System Admin');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault()\n    try {\n      // Send the POST request to the Flask API\n      const response = await axios.post('http://localhost:5000/Login', {\n        username: username,\n        password: password,\n        role: role\n      }, {withCredentials: true});\n      setMessage(response.data.message);\n      console.log('API response message:', response.data.message);\n      if (response.status === 200) {\n        navigate('/dashboard');\n      }\n  } catch (error) {\n        alert('Login failed. Invalid credentials.');\n  }\n};\n\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-image\">\n        <img src=\"/Modern_British_LED_Traffic_Light.jpg\" alt=\"Traffic light\" />\n      </div>\n      <div className=\"login-form\">\n        <h2>Welcome</h2>\n        <form onSubmit={handleLogin}>\n          <div className=\"form-group\">\n            <label htmlFor=\"role\">Role</label>\n            <select\n              id=\"role\"\n              value={role}\n              onChange={(e) => setRole(e.target.value)}\n            >\n              <option value=\"System Admin\">System Admin</option>\n              <option value=\"User\">User</option>\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n          <button type=\"submit\" className=\"sign-in-btn\">\n            Sign In &rarr;\n          </button>\n        </form>\n        <p className=\"message\">{message}</p>\n        <div className=\"extra-links\">\n          <a href=\"/forgot-password\">Forgot password?</a>\n          <p>Is this your first time here? <a href=\"/register\">Register Now!</a></p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}