{"ast":null,"code":"import React,{useEffect,useState}from'react';import ModelDetails from'./ModelDetails';import Top_Bar from\"./Top-bar\";import EditModelForm from'./EditModelForm';import DeployConfirmForm from\"./DeployConfirmForm\";import SideMenu from\"./Side-menu\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ModelList=()=>{const[models,setModel]=useState([{'id':1,'name':'ads','table_name':'qweiouqr'}]);const[selectedModel,setSelectedModel]=useState(null);const[isEditModalOpen,setEditModalOpen]=useState(false);const[isDeployModalOpen,setDeployModalOpen]=useState(false);const[isModalOpen,setIsModalOpen]=useState(false);const[message,setMessage]=useState('');const navigate=useNavigate();useEffect(()=>{// Fetch tasks from Flask backend using Axios\naxios.get('http://localhost:5000/boundary/viewModel').then(response=>{setModel(response.data);console.log(response.data);}).catch(error=>{console.error('Error fetching pulling:',error);});},[]);const handleDeployModel=model=>{setDeployModalOpen(true);setSelectedModel(model);};const handleCloseDeployModal=()=>{setDeployModalOpen(false);setSelectedModel(null);};const handleViewDetails=model=>{setMessage(null);setSelectedModel(model);setIsModalOpen(true);};const handleCloseModal=()=>{setMessage(null);setIsModalOpen(false);setSelectedModel(null);};const handleEditDetails=async model=>{setMessage(null);setSelectedModel(model);setEditModalOpen(true);};const handleCloseEditModal=()=>{setMessage(null);setEditModalOpen(false);setSelectedModel(null);};const handleDelete=async model=>{try{const response=await axios.delete('http://localhost:5000/boundary/deleteModel',{id:model.id},{withCredentials:true});setMessage(response.data.message);console.log('API response message:',response.data.message);if(response.status===200){setModel(prevModel=>prevModel.filter(m=>m.id!==model.id));alert('The model deleted successfully.');navigate('/model');}}catch(error){alert('The model deleted unsuccessfully.');console.error('Error response:',error.response);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"model-page\",children:[/*#__PURE__*/_jsx(Top_Bar,{title:\"Trained Model\"}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(SideMenu,{})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"model-list\",children:[models.length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"No available model\"}):models.map(model=>/*#__PURE__*/_jsxs(\"div\",{className:\"models-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:model.name}),/*#__PURE__*/_jsx(\"p\",{children:model.description}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewDetails(model),children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditDetails(model),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeployModel(model),children:\"Deploy\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(model),children:\"Delete\"})]},models.id)),isModalOpen&&/*#__PURE__*/_jsx(ModelDetails,{config:selectedModel,onClose:handleCloseModal})]})})]}),isEditModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsx(EditModelForm,{model:selectedModel,onClose:handleCloseEditModal})}),isDeployModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"deployModal\",children:/*#__PURE__*/_jsx(DeployConfirmForm,{model:selectedModel,onClose:handleCloseDeployModal})})]});};export default ModelList;","map":{"version":3,"names":["React","useEffect","useState","ModelDetails","Top_Bar","EditModelForm","DeployConfirmForm","SideMenu","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","ModelList","models","setModel","selectedModel","setSelectedModel","isEditModalOpen","setEditModalOpen","isDeployModalOpen","setDeployModalOpen","isModalOpen","setIsModalOpen","message","setMessage","navigate","get","then","response","data","console","log","catch","error","handleDeployModel","model","handleCloseDeployModal","handleViewDetails","handleCloseModal","handleEditDetails","handleCloseEditModal","handleDelete","delete","id","withCredentials","status","prevModel","filter","m","alert","className","children","title","length","map","name","description","onClick","config","onClose"],"sources":["/Users/lee/PycharmProjects/TrafficForecasting/frontend/src/components/TrainedModel.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ModelDetails from './ModelDetails';\nimport Top_Bar from \"./Top-bar\";\nimport EditModelForm from './EditModelForm';\nimport DeployConfirmForm from \"./DeployConfirmForm\";\nimport SideMenu from \"./Side-menu\";\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\n\nconst ModelList = () => {\n  const [models, setModel] = useState([{'id':1, 'name': 'ads', 'table_name': 'qweiouqr'}]);\n  const [selectedModel, setSelectedModel] = useState(null);\n  const [isEditModalOpen, setEditModalOpen] = useState(false);\n  const [isDeployModalOpen, setDeployModalOpen] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch tasks from Flask backend using Axios\n    axios.get('http://localhost:5000/boundary/viewModel')\n      .then(response => {\n        setModel(response.data);\n        console.log(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching pulling:', error);\n      });\n  }, []);\n\n  const handleDeployModel = (model) => {\n      setDeployModalOpen(true);\n      setSelectedModel(model);\n  }\n\n  const handleCloseDeployModal = () => {\n    setDeployModalOpen(false);\n    setSelectedModel(null);\n  };\n\n  const handleViewDetails = (model) => {\n    setMessage(null);\n    setSelectedModel(model);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setMessage(null);\n    setIsModalOpen(false);\n    setSelectedModel(null);\n  };\n\n  const handleEditDetails = async (model) => {\n      setMessage(null);\n      setSelectedModel(model);\n      setEditModalOpen(true);\n  }\n\n  const handleCloseEditModal = () => {\n    setMessage(null);\n    setEditModalOpen(false);\n    setSelectedModel(null)\n  };\n\n  const handleDelete = async (model) => {\n    try {\n      const response = await axios.delete('http://localhost:5000/boundary/deleteModel', {\n        id: model.id,\n      }, {withCredentials: true});\n      setMessage(response.data.message);\n      console.log('API response message:', response.data.message);\n      if (response.status === 200) {\n        setModel((prevModel) =>\n        prevModel.filter(m => m.id !== model.id)\n      );\n        alert('The model deleted successfully.');\n        navigate('/model');\n      }\n  } catch (error) {\n      alert('The model deleted unsuccessfully.');\n      console.error('Error response:', error.response);\n  }\n};\n\n  return (\n      <div className=\"model-page\">\n        <Top_Bar title=\"Trained Model\"/> {/* Use the top bar here */}\n        <tr>\n          <td>\n            <SideMenu/>\n          </td>\n          <td>\n            <div className=\"model-list\">\n              {models.length === 0 ? (\n                  <h1>No available model</h1>\n              ) : (\n                  models.map(model => (\n                      <div key={models.id} className=\"models-card\">\n                        <h3>{model.name}</h3>\n                        <p>{model.description}</p>\n                        <button onClick={() => handleViewDetails(model)}>\n                          View Details\n                        </button>\n                        <button onClick={() => handleEditDetails(model)}>\n                          Edit\n                        </button>\n                        <button onClick={() => handleDeployModel(model)}>\n                          Deploy\n                        </button>\n                        <button onClick={() => handleDelete(model)}>\n                          Delete\n                        </button>\n                      </div>\n                  ))\n              )}\n              {isModalOpen && (\n                  <ModelDetails config={selectedModel} onClose={handleCloseModal}/>\n              )}\n            </div>\n          </td>\n        </tr>\n\n        {isEditModalOpen && (\n        <div className=\"modal\">\n          <EditModelForm model={selectedModel} onClose={handleCloseEditModal} />\n        </div>\n      )}\n        {isDeployModalOpen && (\n        <div className=\"deployModal\">\n          <DeployConfirmForm model={selectedModel} onClose={handleCloseDeployModal} />\n        </div>\n      )}\n      </div>\n  );\n};\n\n\nexport default ModelList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}